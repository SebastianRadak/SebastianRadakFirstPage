<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pra mi princesa</title>
  <style>
    body {
      display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    flex-direction: column;
    overflow: hidden;
    background: 
      linear-gradient(to bottom, rgba(255, 255, 255, 0.0) 0%, rgba(255, 255, 255, 0.4) 70%, rgba(255, 255, 255, 0.6) 100%),
      url('nosdos.jpg') center/cover no-repeat;
    }

    .flower__wrapper {
      position: relative;
      width: 50vh;
      height: 55vh;
      display: flex;
      justify-content: center;
      align-items: flex-end;
    }

    .cupula {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 100%;
      border-radius: 50% 50% 0 0;
      background: rgba(120, 120, 120, 0.22);
      box-shadow: 0 0 32px 8px rgba(120, 120, 120, 0.18);
      overflow: hidden;
      transition: transform 1.5s ease, opacity 1.5s ease;
      cursor: pointer;
      z-index: 2;
    }

    .cupula.levantar {
      transform: translateY(-120%) scale(0.9) rotateX(45deg);
      opacity: 0;
    }

    .cupula:before {
      content: '';
      position: absolute;
      top: 4%;
      left: 4%;
      width: 92%;
      height: 96%;
      background: radial-gradient(circle at top left, rgba(120, 120, 120, 0.18) 0%, transparent 100%);
      border-radius: 50% 50% 0 0;
    }

    .cupula:after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at top left, rgba(120, 120, 120, 0.18) 0%, transparent 100%);
    }

    .flower {
      display: flex;
      flex-direction: column-reverse;
      align-items: center;
      animation: float 3s ease-in-out infinite;
      position: relative;
      z-index: 1;
    }

    .imagen {
      height: 49vh;
      width: 49vh;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }

    .particles {
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: visible;
      z-index: 0;
    }

    .particle {
      position: absolute;
      bottom: 0;
      width: 8px;
      height: 8px;
      background: radial-gradient(circle, #FFD700, #FFA500);
      border-radius: 50%;
      opacity: 0.9;
      animation: polen 4.2s linear forwards;
    }

    @keyframes polen {
      0% {
        transform: translate(0, 0) scale(1);
        opacity: 1;
      }
      80% {
        opacity: 0.7;
      }
      100% {
        transform: translate(var(--x), var(--y)) scale(0.7);
        opacity: 0;
      }
    }

    .titulo {
      margin-bottom: 20px;
      color: #111 !important;
      font-size: 2em;
      text-align: center;
      animation: fadeIn 4s ease-in-out forwards;
      opacity: 0;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
  </style>
</head>


<body>
  <h1 class="titulo"> Te amo mi princesaðŸŒ» <br>
    Quiero que siempre seas mi primavera </h1>

  <div class="flower__wrapper">
    <div class="flower">
      <img class="imagen"
        src="https://github.com/copill2005/imagen-flor/blob/main/d41ef946c455e1a52cc09145cae1e8c5.png?raw=true" />
    </div>

    <div class="cupula" id="cupula"></div>

    <div class="particles" id="particles"></div>
  </div>

  <audio controls>
   <source src="Gorillaz - On Melancholy Hill.mp3" type="audio/mpeg">
  </audio>

  <script>
    const cupula = document.getElementById("cupula");
    const particlesContainer = document.getElementById("particles");

    let polenActivo = false;
    let polenInterval = null;

    cupula.addEventListener("click", () => {
      cupula.classList.add("levantar");
      if (!polenActivo) {
        polenActivo = true;
        iniciarPolen();
      }
    });

    function iniciarPolen() {
      polenInterval = setInterval(() => {
      
        
        crearParticulaPolenLateral();
       
       
        crearParticulaPolenIzquierda();
      }, 40);
    }

    function crearParticulaPolen() {
      const p = document.createElement("div");
      p.className = "particle";
      const flor = document.querySelector('.imagen');
      const wrapper = document.querySelector('.flower__wrapper');
      const florRect = flor.getBoundingClientRect();
      const wrapperRect = wrapper.getBoundingClientRect();
      const xFlor = florRect.left + florRect.width / 2 - wrapperRect.left;
      const yFlor = florRect.bottom - wrapperRect.top - 10;

      p.style.left = xFlor + "px";
      p.style.bottom = (wrapperRect.height - yFlor) + "px";


      const angulo = Math.random() * 2 * Math.PI; 
      const distancia = 220 + Math.random() * 600;
      const x = Math.cos(angulo) * distancia + "px";
      const y = -60 - Math.random() * 400 + "px";

      p.style.setProperty("--x", x);
      p.style.setProperty("--y", y);

      particlesContainer.appendChild(p);
      setTimeout(() => p.remove(), 4200);
    }


    function crearParticulaPolenLateral() {
      const p = document.createElement("div");
      p.className = "particle";
      const flor = document.querySelector('.imagen');
      const wrapper = document.querySelector('.flower__wrapper');
      const florRect = flor.getBoundingClientRect();
      const wrapperRect = wrapper.getBoundingClientRect();

      const xFlor = florRect.left - wrapperRect.left + 8;
      const yFlor = florRect.bottom - wrapperRect.top - 10;

      p.style.left = xFlor + "px";
      p.style.bottom = (wrapperRect.height - yFlor) + "px";


      const angulo = Math.random() * Math.PI * 1.3 + Math.PI * 0.2; 
      const distancia = 220 + Math.random() * 600;
      const x = Math.cos(angulo) * distancia + "px";
      const y = -60 - Math.random() * 400 + "px";

      p.style.setProperty("--x", x);
      p.style.setProperty("--y", y);

      particlesContainer.appendChild(p);
      setTimeout(() => p.remove(), 4200);
    }


    function crearParticulaPolenDerecha() {
      const p = document.createElement("div");
      p.className = "particle";
      const flor = document.querySelector('.imagen');
      const wrapper = document.querySelector('.flower__wrapper');
      const florRect = flor.getBoundingClientRect();
      const wrapperRect = wrapper.getBoundingClientRect();

      const xFlor = florRect.left - wrapperRect.left + florRect.width - 8; 
      const yFlor = florRect.bottom - wrapperRect.top - 10;

      p.style.left = xFlor + "px";
      p.style.bottom = (wrapperRect.height - yFlor) + "px";


      const angulo = Math.random() * Math.PI * 1.3 - Math.PI * 0.5; 
      const distancia = 220 + Math.random() * 600;
      const x = Math.cos(angulo) * distancia + "px";
      const y = -60 - Math.random() * 400 + "px";

      p.style.setProperty("--x", x);
      p.style.setProperty("--y", y);

      particlesContainer.appendChild(p);
      setTimeout(() => p.remove(), 4200);
    }
r
    function crearParticulaPolenIzquierda() {
      const p = document.createElement("div");
      p.className = "particle";
      const flor = document.querySelector('.imagen');
      const wrapper = document.querySelector('.flower__wrapper');
      const florRect = flor.getBoundingClientRect();
      const wrapperRect = wrapper.getBoundingClientRect();

      const xFlor = florRect.left - wrapperRect.left; 
      const yFlor = florRect.bottom - wrapperRect.top - 10;

      p.style.left = xFlor + "px";
      p.style.bottom = (wrapperRect.height - yFlor) + "px";


      const angulo = Math.random() * Math.PI * 1.1 + Math.PI * 0.3; 
      const distancia = 220 + Math.random() * 600;
      const x = Math.cos(angulo) * distancia + "px";
      const y = -60 - Math.random() * 400 + "px";

      p.style.setProperty("--x", x);
      p.style.setProperty("--y", y);

      particlesContainer.appendChild(p);
      setTimeout(() => p.remove(), 4200);
    }
  </script>
</body>
</html>
